{"ast":null,"code":"import axios from 'axios';\n\nconst fetchProduct = () => {\n  return axios.get(\"http://127.0.0.1:8000/api/product/1\");\n};\n\nconst fetchProducts = () => {\n  axios.get(\"http://127.0.0.1:8000/api/products\").then(res => {\n    this.setState({\n      products: res.data.results\n    });\n  });\n};\n\nfunction wrapPromise(promise) {\n  let status = \"pending\";\n  let result;\n  let suspender = promise.then(r => {\n    status = \"success\";\n    result = r;\n  }, e => {\n    status = \"error\";\n    result = e;\n  });\n  return {\n    read() {\n      if (status === \"pending\") {\n        throw suspender;\n      } else if (status === \"error\") {\n        throw result;\n      }\n\n      return result;\n    }\n\n  };\n}\n\n;\nexport function fetchProductsData() {\n  let productPromise = fetchProducts();\n  return {\n    products: wrapPromise(productPromise)\n  };\n}\n;\nexport function fetchProductData() {\n  let productPromise = fetchProduct();\n  return {\n    product: wrapPromise(productPromise)\n  };\n}\n;","map":{"version":3,"sources":["E:/django_projects/cloth_shop_django_react/frontend/cloth_shop/src/FetchProductApi.js"],"names":["axios","fetchProduct","get","fetchProducts","then","res","setState","products","data","results","wrapPromise","promise","status","result","suspender","r","e","read","fetchProductsData","productPromise","fetchProductData","product"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,YAAY,GAAG,MAAM;AACvB,SAAOD,KAAK,CAACE,GAAN,CAAU,qCAAV,CAAP;AACH,CAFD;;AAGA,MAAMC,aAAa,GAAG,MAAM;AACxBH,EAAAA,KAAK,CAACE,GAAN,CAAU,oCAAV,EAAgDE,IAAhD,CAAqDC,GAAG,IAAI;AAC1D,SAAKC,QAAL,CAAc;AACZC,MAAAA,QAAQ,EAAEF,GAAG,CAACG,IAAJ,CAASC;AADP,KAAd;AAGD,GAJD;AAKH,CAND;;AAOA,SAASC,WAAT,CAAqBC,OAArB,EAA8B;AAC5B,MAAIC,MAAM,GAAG,SAAb;AACA,MAAIC,MAAJ;AACA,MAAIC,SAAS,GAAGH,OAAO,CAACP,IAAR,CACdW,CAAC,IAAI;AACHH,IAAAA,MAAM,GAAG,SAAT;AACAC,IAAAA,MAAM,GAAGE,CAAT;AACD,GAJa,EAKdC,CAAC,IAAI;AACHJ,IAAAA,MAAM,GAAG,OAAT;AACAC,IAAAA,MAAM,GAAGG,CAAT;AACD,GARa,CAAhB;AAWA,SAAO;AACLC,IAAAA,IAAI,GAAG;AACL,UAAIL,MAAM,KAAK,SAAf,EAA0B;AACxB,cAAME,SAAN;AACD,OAFD,MAEO,IAAIF,MAAM,KAAK,OAAf,EAAwB;AAC7B,cAAMC,MAAN;AACD;;AACD,aAAOA,MAAP;AACD;;AARI,GAAP;AAUD;;AAAA;AAED,OAAO,SAASK,iBAAT,GAA6B;AAChC,MAAIC,cAAc,GAAGhB,aAAa,EAAlC;AAEA,SAAO;AACHI,IAAAA,QAAQ,EAAEG,WAAW,CAACS,cAAD;AADlB,GAAP;AAGH;AAAA;AAED,OAAO,SAASC,gBAAT,GAA4B;AAC/B,MAAID,cAAc,GAAGlB,YAAY,EAAjC;AAEA,SAAO;AACHoB,IAAAA,OAAO,EAAEX,WAAW,CAACS,cAAD;AADjB,GAAP;AAGH;AAAA","sourcesContent":["import axios from 'axios';\r\n\r\nconst fetchProduct = () => {\r\n    return axios.get(\"http://127.0.0.1:8000/api/product/1\")\r\n}\r\nconst fetchProducts = () => {\r\n    axios.get(\"http://127.0.0.1:8000/api/products\").then(res => {\r\n      this.setState({\r\n        products: res.data.results\r\n      });\r\n    });\r\n}\r\nfunction wrapPromise(promise) {\r\n  let status = \"pending\";\r\n  let result;\r\n  let suspender = promise.then(\r\n    r => {\r\n      status = \"success\";\r\n      result = r;\r\n    },\r\n    e => {\r\n      status = \"error\";\r\n      result = e;\r\n    }\r\n  );\r\n\r\n  return {\r\n    read() {\r\n      if (status === \"pending\") {\r\n        throw suspender;\r\n      } else if (status === \"error\") {\r\n        throw result;\r\n      }\r\n      return result;\r\n    }\r\n  };\r\n};\r\n\r\nexport function fetchProductsData() {\r\n    let productPromise = fetchProducts();\r\n\r\n    return {\r\n        products: wrapPromise(productPromise)\r\n    };\r\n};\r\n\r\nexport function fetchProductData() {\r\n    let productPromise = fetchProduct();\r\n\r\n    return {\r\n        product: wrapPromise(productPromise)\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}